$(document).ready(function(){function e(){a.__call("trends_place",r,function(e,t,a){n.each(function(t){if(a)$(this).append("<p>"+localStorage.getItem("topic"+t)+"</p>"),$(this).addClass(localStorage.getItem("class"+t));else{var r=e[0].trends[t].name.replace(/\s+/g,"").replace("#","");$(this).append("<p>"+e[0].trends[t].name+"</p>"),$(this).addClass(r),localStorage.setItem("topic"+t,e[0].trends[t].name),localStorage.setItem("class"+t,r)}})},!0)}function t(e,t){$.ajax(e).done(function(e){if(e.result.docs)for(var a=0;3>a;a++){var r=e.result.docs[a].source.enriched.url.title.substring(0,50),n=e.result.docs[a].source.enriched.url.url,s=$("<a href='"+n+"'>"+r+"</a>");$("."+t.replace(/\s+/g,"")+"> p").hide(),$("."+t.replace(/\s+/g,"")).append(s),$("."+t.replace(/\s+/g,"")+"> a").css({color:"white","font-size":"150%","text-decoration":"none",padding:"10px 0"})}else $.ajax({url:"https://www.reddit.com/search.json?q="+t,success:function(e){var a=e.length;0==a.length&&($("."+t.replace(/\s+/g,"")+"> p").hide(),$("<a href='"+c+"newsTopic'>"+t+"</a>"));for(var r=0;3>r;r++){var n=e.data.children[r].data.title.substring(0,50),s=e.data.children[r].data.url,o=$("<a href='"+s+"'>"+n+"</a>");$("."+t.replace(/\s+/g,"")+"> p").hide(),$("."+t.replace(/\s+/g,"")).append(o),$("."+t.replace(/\s+/g,"")+"> a").css({color:"white","font-size":"150%","text-decoration":"none",padding:"10px 0"})}},dataType:"json"})}).fail(function(){})}var a=new Codebird;a.setBearerToken("AAAAAAAAAAAAAAAAAAAAAK97igAAAAAAL6M3uxb0OEWglYZcJpxq89e46zY%3Dt682yccM1IgilC04xfWysYugpZ2ZzmaLpIcvNTB9L6xhdjaAXC");var r={id:23424977},n=$(".trend");e();var c="https://twitter.com/hashtag/";n.on("click","a",function(e){e.preventDefault(),window.open($(this).attr("href"))}),n.on("click","p",function(){var e=$(this).text().replace("#",""),a="https://gateway-a.watsonplatform.net/calls/data/GetNews?outputMode=json&start=now-1d&end=now&count=5&q.enriched.url.enrichedTitle.keywords.keyword.text="+e+"&return=enriched.url.url,enriched.url.title&apikey=884243d26352312be01ce6cfcfb5cf276e9000a2";t(a,e)}),$("footer").on("click","h1",function(){n.empty(),e()})});